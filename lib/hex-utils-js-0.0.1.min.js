/*! hex-utils-js - 0.0.1 2015-06-01 */
this.hexU=this.hexU||{},function(){function a(a,b,c,d,e){var f={ODD_R:"odd-r"},g=[[{c:1,r:0},{c:0,r:-1},{c:-1,r:-1},{c:-1,r:0},{c:-1,r:1},{c:0,r:1}],[{c:1,r:0},{c:1,r:-1},{c:0,r:-1},{c:-1,r:0},{c:0,r:1},{c:1,r:1}]],h=[[{c:1,r:-1},{c:0,r:-2},{c:-2,r:-1},{c:-2,r:1},{c:0,r:2},{c:1,r:1}],[{c:2,r:-1},{c:2,r:1},{c:0,r:2},{c:-1,r:1},{c:-1,r:-1},{c:0,r:-2}]];this.columns=a,this.rows=b,this.hexDetails=c,this.orientation=d,this.options=e,e.debug&&console.log("hexu: Create Hexmap with the following hexDetails: "+JSON.stringify(c)),this.getTiles=function(){for(var d,e,f=[],g=0;b>g;g++){e=g*(c.height-c.c),d=g%2!=0?c.width/2:0;for(var h=[],i=0;a>i;i++)h.push({x:d,y:e}),d+=c.width;f.push(h)}return f},this.coordToHex=function(a,b){var d,e=c.height-c.c,f=c.width/2,g=c.c/f,h=Math.floor(b/e),i=h%2==1;d=i?Math.floor((a-f)/c.width):Math.floor(a/c.width);var j,k=b-h*e;return j=i?a-d*c.width-f:a-d*c.width,k<-g*j+c.c?(h--,i||d--):k<g*j-c.c&&(h--,i&&d++),{c:d,r:h}},this.isPosValid=function(a,b){return a>=0&&a<self.rows&&b>=0&&b<self.columns},this.toCube=function(a,b){var c=-1,d=-1,e=-1;return self.orientation===f.ODD_R&&(c=a-(b-(1&b))/2,e=b,d=-c-e),{x:c,y:d,z:e}},this.fromCube=function(a,b,c){var d=-1,e=-1;return self.orientation===f.ODD_R&&(d=a+(c-(1&c))/2,e=c),{c:d,r:e}},this.getNeighbor=function(a,b,c){var d,e=1&b;switch(self.orientation){case f.ODD_R:d=g[e][c];break;default:d={c:0,r:0},self.options.debug&&console.warn("getNeighbor: Map orientation is not valid or not supported:'"+self.orientation+"'")}return{c:a+d.c,r:b+d.r}},this.getDiagonal=function(a,b,c){var d,e=1&hex.r;switch(self.orientation){case f.ODD_R:d=h[e][c];break;default:d={c:0,r:0},console.warn("getDiagonal: Map orientation is not valid or not supported:'"+self.orientation+"'")}return{c:a+d.c,r:b+d.r}}}hexU.HexMap=a}();